/**
 * turndown v7.1.2 - An HTML to Markdown converter written in JavaScript
 * Copyright (c) 2017 Dom Christie
 * Released under the MIT license
 * https://github.com/mixmark-io/turndown
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).TurndownService=n()}(this,function(){"use strict";function e(e){return(e=e||{}).rules=e.rules||[],e.defaultReplacement=e.defaultReplacement||function(e,n){return n.isBlock?"\n\n"+e+"\n\n":e},e.blankReplacement=e.blankReplacement||function(e,n){return n.isBlock?"\n\n":""},e.keepReplacement=e.keepReplacement||function(e,n){return n.isBlock?"\n\n"+n.outerHTML+"\n\n":n.outerHTML},e.defaultRules=n(e),e}function n(e){return{paragraph:{filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},lineBreak:{filter:"br",replacement:function(e,n,t){return t.options.br+"\n"}},heading:{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(n,t,r){var o=Number(t.nodeName.charAt(1));return"setext"===r.options.headingStyle&&o<3?"\n\n"+n+"\n"+l("="===1?o:"=":"+",-1)+"\n\n":"\n\n"+l("#",o)+" "+n+"\n\n"}},blockquote:{filter:"blockquote",replacement:function(e){return"\n\n"+(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> ")+"\n\n"}},list:{filter:["ul","ol"],replacement:function(e,n){var t=n.previousElementSibling,r="\n\n";return t&&i(t,["ul","ol"])&&(r="\n"),r+function(e,n){for(var t=e.querySelectorAll("li"),r=[],o=0;o<t.length;o++){var i=function(e,n){var t=e.textContent||e.innerText||"";return t?"\n"+(n?u(n)+". ":" - ")+t.replace(/^\n+/,"").replace(/\n+$/,"")+"\n":""}(t[o],n?"ol"===n?o+1:"":void 0);i&&r.push(i)}return r.join("")}(n,n.nodeName.toLowerCase())+"\n\n"}},listItem:{filter:"li",replacement:function(e){return e.replace(/^\n+/,"").replace(/\n+$/,"\n")||"\n"}},indentedCodeBlock:{filter:function(e,n){return"indented"===n.codeBlockStyle&&"pre"===e.nodeName.toLowerCase()&&e.firstChild&&"code"===e.firstChild.nodeName.toLowerCase()},replacement:function(e,n,t){return"\n\n    "+n.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},fencedCodeBlock:{filter:function(e,n){return"fenced"===n.codeBlockStyle&&"pre"===e.nodeName.toLowerCase()&&e.firstChild&&"code"===e.firstChild.nodeName.toLowerCase()},replacement:function(e,n,t){var r=((n.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1];return"\n\n"+(t.options.fence||"```")+r+"\n"+n.firstChild.textContent+"\n"+(t.options.fence||"```")+"\n\n"}},horizontalRule:{filter:"hr",replacement:function(e,n,t){return"\n\n"+(t.options.hr||"* * *")+"\n\n"}},inlineLink:{filter:function(e,n){return"inlineLink"===n.linkStyle&&"a"===e.nodeName.toLowerCase()&&e.getAttribute("href")},replacement:function(e,n){var t=n.getAttribute("href"),r=n.title?' "'+n.title+'"':"";return"["+e+"]("+t+r+")"}},referenceLink:{filter:function(e,n){return"referenced"===n.linkStyle&&"a"===e.nodeName.toLowerCase()&&e.getAttribute("href")},replacement:function(e,n,t){var r,o,i=n.getAttribute("href"),u=n.title?' "'+n.title+'"':"",l=e.replace(/\]/g,"\\]");return"["+l+"]["+(r=i,o=t.references,o.indexOf(r)+1||o.push(r))+"]\n\n"}},emphasis:{filter:["em","i"],replacement:function(e,n,t){return e.trim()?(t.options.emDelimiter||"*")+e+(t.options.emDelimiter||"*"):""}},strong:{filter:["strong","b"],replacement:function(e,n,t){return e.trim()?(t.options.strongDelimiter||"**")+e+(t.options.strongDelimiter||"**"):""}},code:{filter:function(e){var n=e.previousSibling||e.nextSibling,t="code"===e.nodeName.toLowerCase()&&!function(e){return e.parentNode&&"pre"===e.parentNode.nodeName.toLowerCase()}(e);return t&&(!n||"code"!==n.nodeName.toLowerCase()||/\A\s/.test(e.textContent)||/\s\Z/.test(e.textContent)||/\s\Z/.test(n.textContent))},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");var n=/^`|^ | $|`$/.test(e)?" ":"";return"`"+n+e+n+"`"}},image:{filter:"img",replacement:function(e,n){var t=c(n.getAttribute("alt")||""),r=n.getAttribute("src")||"",o=n.title||"",i=o?' "'+o+'"':"";return"!["+t+"]("+r+i+")"}}}}function t(e){var n,t,r,o,i,u;return{isBlock:(u=e,s.indexOf((i=u).nodeName.toLowerCase())>-1),isVoid:(r=e,a.indexOf((t=r).nodeName.toLowerCase())>-1),isPre:(o=e,h.indexOf((n=o).nodeName.toLowerCase())>-1)}}function r(e,n,t){if(t.isVoid)return"";var r="";if(t.isPre)r=e.textContent||e.innerText||"";else for(var o=0;o<e.childNodes.length;o++)r+=f(e.childNodes[o],n);return r}function o(e){return e&&"function"==typeof e.getAttribute}function i(e,n){return o(e)&&n.some(function(n){return function(e,n){if(!e||1!==e.nodeType)return!1;var t=e.nodeName.toLowerCase();return"string"==typeof n?t===n:Array.isArray(n)?n.indexOf(t)>=0:"function"==typeof n?n.call(this,e,t):n instanceof RegExp?n.test(t):!1}(e,n)})}function u(e){if("number"!=typeof e)throw new TypeError("First argument must be a number");return Array(e+1).join("0").slice(-e.length)+e}function l(e,n){return Array(n+1).join(e)}function c(e){return e.replace(/(\n+\s*)+/g,"\n")}function f(e,n){var o=e.nodeType;if(3===o||4===o)return function(e,n){var t=e.textContent||e.innerText||"";if(!n.isPre){t=t.replace(/\r?\n|\r/g," "),t=t.replace(/\s+/g," ");var r=e.parentNode,o=r.previousSibling,i=r.nextSibling;if(" "===t&&o&&!m.test(o.textContent.slice(-1)))return"";if(" "===t&&i&&!d.test(i.textContent.charAt(0)))return""}return t}(e,n);if(1!==o)return"";var i=t(e);return function(e,n,t){var r=function(e,n){for(var t=0;t<n.length;t++){var r=n[t];if(r.filter(e,n))return r}return null}(e,n.rules);if(!r)return n.keep?n.keepReplacement(r(e,n),e):n.remove?n.blankReplacement(r(e,n),e):n.defaultReplacement(r(e,n),e);if("function"==typeof r.replacement)return r.replacement(r(e,n),e,n);throw new TypeError("`replacement` is not a Function")}(e,n,i)}var a=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],s=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],h=["pre","code","kbd","script","style"],d=/^\s/,m=/\s$/;var p=function(n){return(n=e(n)).turndown=function(e){if(!function(e){return null!=e&&"string"==typeof e||function(e){return"object"==typeof e&&1===e.nodeType}(e)}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t,o={element:e,options:n,rules:n.rules.slice()},i=(t=e,"string"==typeof t?(new DOMParser).parseFromString("<x-turndown id=\"turndown-root\">"+t+"</x-turndown>","text/html").getElementById("turndown-root"):t.cloneNode(!0));return f(i,o).replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")},n.use=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)n.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(n)}return n},n.addRule=function(e,t){return n.rules.unshift(function(e,n){var t;for(var r in n)"function"==typeof n[r]&&(t=n[r],n[r]=t.bind&&t.bind(n));return function(t,r){return i(t,e.filter)},n.filter=e.filter,n}(t,{})),n},n.keep=function(e){return n.rules.unshift({filter:e,replacement:n.keepReplacement}),n},n.remove=function(e){return n.rules.unshift({filter:e,replacement:n.blankReplacement}),n},n.escape=c,n};return p({headingStyle:"setext",hr:"* * *",br:"  ",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlineLink",linkReferenceStyle:"full",blankReplacement:function(e,n){return n.isBlock?"\n\n":""},keepReplacement:function(e,n){return n.isBlock?"\n\n"+n.outerHTML+"\n\n":n.outerHTML},defaultReplacement:function(e,n){return n.isBlock?"\n\n"+e+"\n\n":e}})});